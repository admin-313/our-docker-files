<clickhouse>
    <profiles>
        <!-- Default settings -->
        <default>
            <!-- The maximum number of threads when running a single query. -->
            <max_threads>8</max_threads>
            <!-- Be using a new module of native prometheus compability, some parts are still considered 
            experimental hence we have to switch them on explicitly-->
        </default>
    </profiles>

    <users>
        <!-- Prometheus user with password from environment -->
        <prometheus>
            <password from_env="PROMETHEUS_PASSWORD"></password>
            <networks incl="networks" replace="replace">
                <ip>::/0</ip>
            </networks>
            <profile>default</profile>
            <quota>default</quota>
            <databases>
                <monitoring>
                    <access>1</access>
                </monitoring>
                <system>
                    <access>1</access>
                </system>
            </databases>
            <access_management>0</access_management>
            <named_collection_control>0</named_collection_control>
        </prometheus>

        <grafana>
            <password from_env="GRAFANA_PASSWORD"></password>
            <networks incl="networks" replace="replace">
                <ip>::/0</ip>
            </networks>
            <profile>default</profile>
            <quota>default</quota>
            <databases>
                <monitoring>
                    <access>1</access>
                </monitoring>
                <system>
                    <access>1</access>
                </system>
            </databases>
            <access_management>0</access_management>
            <named_collection_control>0</named_collection_control>
        </grafana>
    </users>

    <quotas>
        <default>
            <interval>
                <duration>3600</duration>
                <queries>0</queries>
                <errors>0</errors>
                <result_rows>0</result_rows>
                <read_rows>0</read_rows>
                <execution_time>0</execution_time>
            </interval>
        </default>
    </quotas>
</clickhouse>